---
title: Вариант навигационного приложения OsmAnd для незрячих
description: Альтернативная версия навигационного приложения OsmAnd с расширенными функциями невизуального доступа.
keywords: навигационное приложение OsmAnd,невизуальный доступ,Android
---

# {{ page.title }}

[This page in English](index.md)

* TOC
{:toc}

----

## Введение

OsmAnd – это навигационное приложение, работающее на мобильных
устройствах под управлением операционной системы
[Android](http://www.android.com/).
Ознакомиться с ним подробнее можно непосредственно на
[домашней странице проекта](http://osmand.net/)
или на посвященной ему
[странице Википедии](http://ru.wikipedia.org/wiki/OsmAnd).

Хотя официальная версия OsmAnd с точки зрения невизуальной
доступности, пожалуй, в целом и отличается в лучшую сторону от прочих
подобных приложений и даже включает в себя так называемый
accessibility plugin, предоставляющий пользователю некоторые
дополнительные средства невизуального доступа, на практике их арсенала
оказывается совершенно недостаточно для полноценного использования
приложения в условиях жесткой визуальной ограниченности. Проект
[OsmAnd access](http://www.ksrk-edu.ru/osmand/osmand.php)
имеет своей целью адаптацию приложения OsmAnd к нуждам незрячих
пользователей. На страницах этого проекта можно найти как само
приложение, так и дополнительные материалы, помогающие с ним освоиться.

К сожалению, в 2018 году проект прекратил свое развитие, так что
материал несколько устарел и сохранен главным образом для
истории. Некоторые из описанных ниже идей и наработок вошли в состав
основного проекта, что безусловно положительно отразилось на
невизуальной доступности приложения в целом. Тем не менее, для
разработчиков OsmAnd эта проблема не является первоочередной и до
совершенства здесь еще далеко.


## Версии

Представленное здесь приложение по сути является альтернативной
версией OsmAnd с расширенными функциями невизуальной доступности и
носит то же имя. Однако установка его поверх официальной версии и
наоборот _не рассматривается системой как обновление и может привести к
нежелательным последствиям_.

Для отличия наших выпусков от официальных мы вводим в версию
приложения обозначение "a11y+". Таким образом, например, OsmAnd версии
`1.8.3-a11y+1` соответствует официальному выпуску OsmAnd версии `1.8.3` по
базовому функционалу и практически ему идентичен когда средства
специального доступа выключены.


## Основные отличия

### Общая доступность интерфейса

- Заполнено поле ContentDescription практически для всех графических
  элементов интерфейса (иконок, кнопок и т.п.), имеющих смысловое
  значение.
- Заблокированы нежелательные события для системы специального
  доступа, приводящие к неадекватному ее поведению.
- Введена модифицированная реакция карты на жесты, которая может быть
  включена в настройках специальных возможностей программы. Когда
  этот режим включен, долгое касание карты, если она привязана к
  местоположению, вызывает контекстное меню, относящееся не к точке
  прикосновения, которая при отсутствии зрительного контроля плохо
  предсказуема, а к точке привязки карты, соответствующей
  в этом случае местоположению пользователя.
- Улучшен невизуальный доступ к экрану описания маршрута, а именно:
  - информация о расстоянии не дублируется средствами специального
    доступа;
  - добавлены особые элементы для точек прибытия;
  - в режиме специальных возможностей использован более подходящий
    формат времени с тем, чтобы он правильнее интерпретировался
    синтезатором речи.


### Невизуальный доступ к компасу

Введен звуковой и тактильный (вибрационный) отклик для функций
компаса. Таким образом, вращая аппарат, можно определить направление
на тот или иной объект. В списках результатов поиска это объект,
находящийся в фокусе, во время навигации – следующая маршрутная точка,
в остальных случаях – пункт назначения, если он задан.

Звуковой (или вибрационный) сигнал возникает при незначительном
отклонении оси аппарата от правильного направления. Таким образом,
надо как бы попасть в вилку между двумя сигналами.


### Обратный геокодинг

Введены средства обратного геокодинга, позволяющие получить словесное
описание (как правило адрес) текущего местоположения как с помощью
различных online источников, так и в режиме offline по картам,
хранящимся в памяти аппарата. Выбор источника доступен в настройках
специальных возможностей программы.


### Исследование окрестности

Эта функция доступна через контекстное меню (пункт «Осмотреться
вокруг»). Она выводит список ближайших объектов в окрестности
виртуального местоположения. В список могут включаться не только POI,
но и избранные. Можно настраивать фильтр таким образом, чтобы туда
попадали только те объекты, которые представляют наибольший интерес.


### Голосовое управление

Целый ряд функций программы доступен через голосовое управление. Этот
режим вызывается встряхиванием аппарата в направлении его продольной
оси, через контекстное меню или нажатием кнопки на гарнитуре. При
использовании гарнитуры, ее кнопка также может использоваться и для
прерывания голосового ввода. Редактор голосовых команд доступен в
настройках специальных возможностей программы.


### Специальный информационный экран

Как и в официальной версии программы, при включенном режиме
специального доступа этот экран открывается через главное меню: пункт
`Где я / подробности`. Теперь там, помимо прочего, располагаются
результаты обратного геокодинга, описание пункта назначения (если
есть) и информация о масштабе карты (размеры отображаемой области).


### Автооповещения

В официальной версии OsmAnd автооповещение, то есть автоматическое
проговаривание направления и расстояния до пункта назначения, выдается
только при изменении направления на целевой объект. Здесь же добавлена
возможность задать период безусловной выдачи
автооповещений. Минимальное время между оповещениями можно
устанавливать в диапазоне от 5 секунд до 5 минут.


### Дополнительные настройки навигации

Настройки специальных возможностей программы, относящиеся к процессу
навигации, устанавливаются индивидуально для каждого профиля
(автомобиль, велосипед, пешеход). Сюда относятся:

- запрет автоматической перепрокладки маршрута при отклонении от
  него, то есть при значительном удалении от заданного пути, или при
  неверном направлении движения;
- настройка радиуса приближения к конечному и промежуточным пунктам
  назначения;
- настройка частоты обновления позиции.


### Разное

- Все навигационные функции программы, равно как и голосовое
  управление, остаются доступными в фоновом режиме, когда экран
  выключен или заблокирован.
- Разнообразные мелкие поправки, касающиеся общей надежности и
  устойчивости программы.


## Выпуск 1.9.5-a11y+1

Разумеется, этот выпуск включает в себя все прелести базовой версии
приложения, равно как и все наши доработки, описанные выше. Кроме
того, несколько дополнительных нюансов было добавлено именно в этой
версии.

- Звуковые и тактильные сигналы так называемого "доступного компаса"
  сделаны различными для левого и правого отклонения.
- Добавлена настройка радиуса приближения для путевых точек. Этот
  параметр настраивается отдельно для каждого профиля и принимается
  во внимание лишь в режиме специального доступа. Сигнал о достижении
  путевой точки звучит, когда расстояние до нее становится меньше
  заданного радиуса. Предварительный же сигнал, индицирующий
  приближение, в режиме специального доступа вовсе блокируется, ибо
  вреда и путаницы от него оказывается больше чем пользы.
- Добавлена настройка максимального удаления от маршрута. Этот
  параметр устанавливается отдельно для каждого профиля и принимается
  во внимание только в режиме специального доступа. Если он задан, то
  уведомление об уходе с маршрута в процессе навигации звучит тогда,
  когда расстояние до правильной линии движения выходит за рамки
  указанного предела.
- Длинное нажатие на кнопку в правом верхнем углу карты (обычно
  обозначаемую как "Где я" или "Вернуться к местоположению") приводит
  к выдаче краткого сообщения, описывающего текущее местоположение в
  человеческой форме. Если карта привязана к местоположению, то
  достаточно будет и обычного (короткого) нажатия. Эта дополнительная
  функция работает только в режиме специального доступа.


## Выпуск 1.9.5-a11y+2

- Конфигурируемый доступ к маршрутной информации. Каждый пункт в
  описании маршрута содержит такую кучу всяких сведений, что
  слушать как TalkBack все это добросовестно прочитывает иногда,
  право же, нет никаких сил. Теперь можно явно указать что здесь
  стоит читать, а что нет. И сделать это можно не только через
  настройки специального доступа, но и непосредственно из экрана
  описания маршрута.
- Увеличена информативность обратного геокодинга. Теперь вместе с
  описанием ближайшего найденного объекта или адреса сообщается, если
  возможно, направление на него и расстояние. 
- Разнообразные мелкие поправки общего плана.


## Загрузки

Установочный пакет приложения можно взять прямо здесь:

- [OsmAnd-1.9.5-a11y+2.apk](https://github.com/poretsky/poretsky.github.io/releases/download/android/OsmAnd-1.9.5-a11y+2.apk)
- [OsmAnd-2.9.3-a11y+1.apk](https://github.com/poretsky/poretsky.github.io/releases/download/android/OsmAnd-2.9.3-a11y+1.apk)

А можно и на
[сайте КСРК](http://ksrk-edu.ru/osmand/ru/),
где заодно можно найти и дополнительную информацию, а так же утилиты,
позволяющие преобразовывать точки маршрутов и базы данных Loadstone в
формат GPX OsmAnd, специально разработанные для того, чтобы при
переходе на OsmAnd пользователи Loadstone не потеряли наработанной ими
собственной базы точек.
